<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Đình Hường ❤ Khánh Linh</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html,body{
margin:0;
padding:0;
background:black;
overflow:hidden;
height:100%;
font-family:'Great Vibes', cursive;
}

canvas{
position:fixed;
top:0;
left:0;
}

#textContainer{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
text-align:center;
color:white;
opacity:0;
transition:opacity 2s ease;
width:90vw;
}

.nameRow{
display:flex;
justify-content:center;
align-items:center;
gap:20px;
font-size:8vw;
white-space:nowrap;
}

.rotLeft{
animation:spinLeft 8s linear infinite;
}

.rotRight{
animation:spinRight 8s linear infinite;
}

@keyframes spinLeft{
0%{transform:rotate(0deg);}
50%{transform:rotate(6deg);}
100%{transform:rotate(0deg);}
}

@keyframes spinRight{
0%{transform:rotate(0deg);}
50%{transform:rotate(-6deg);}
100%{transform:rotate(0deg);}
}

.heartCenter{
font-size:7vw;
color:#ff4da6;
}

</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="textContainer">
<div class="nameRow">
<div class="rotLeft">Đình Hường</div>
<div class="heartCenter">&lt;3</div>
<div class="rotRight">Khánh Linh</div>
</div>
</div>

<script>
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");

let w,h;
function resize(){
w=canvas.width=window.innerWidth;
h=canvas.height=window.innerHeight;
}
resize();
window.onresize=resize;

let particles=[];
let fireworks=[];
let slowMotion=false;

function heartShape(t){
let x=16*Math.pow(Math.sin(t),3);
let y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
return {x:x,y:-y};
}

class Particle{
constructor(x,y,color,size){
this.x=x;
this.y=y;
this.color=color;
this.size=size;
this.speedX=(Math.random()-0.5)*4;
this.speedY=(Math.random()-0.5)*4;
this.targetX=null;
this.targetY=null;
this.opacity=1;
}

update(){
if(this.targetX!==null){
this.x+=(this.targetX-this.x)*0.05;
this.y+=(this.targetY-this.y)*0.05;
}else{
this.x+=this.speedX;
this.y+=this.speedY;
}
}

draw(){
ctx.globalAlpha=this.opacity;
ctx.fillStyle=this.color;
ctx.font=this.size+"px serif";
ctx.fillText("❤",this.x,this.y);
ctx.globalAlpha=1;
}
}

function createChaosHearts(){
for(let i=0;i<400;i++){
particles.push(new Particle(
Math.random()*w,
Math.random()*h,
Math.random()>0.5?"#ff66b2":"#ffffff",
Math.random()*18+8
));
}
}

function formHeart(){
let centerX=w/2;
let centerY=h/2;
for(let i=0;i<particles.length;i++){
let t=Math.random()*Math.PI*2;
let pos=heartShape(t);
let scale=20;
let edgeDensity=Math.random();

if(edgeDensity<0.6){
scale=22;
particles[i].opacity=1;
}else{
scale=16;
particles[i].opacity=0.7;
}

particles[i].targetX=centerX+pos.x*scale;
particles[i].targetY=centerY+pos.y*scale;
}
}

function createFirework(){
let x=Math.random()*w;
let y=Math.random()*h*0.5;
let count=Math.random()*20+20;
for(let i=0;i<count;i++){
let angle=Math.random()*Math.PI*2;
let speed=Math.random()*3+2;
fireworks.push({
x:x,
y:y,
dx:Math.cos(angle)*speed,
dy:Math.sin(angle)*speed,
size:Math.random()*10+6,
life:60,
color:Math.random()>0.5?"#ff66b2":"#ffffff"
});
}
}

function updateFireworks(){
for(let i=0;i<fireworks.length;i++){
let f=fireworks[i];
f.x+=f.dx;
f.y+=f.dy;
f.life--;
ctx.globalAlpha=f.life/60;
ctx.fillStyle=f.color;
ctx.font=f.size+"px serif";
ctx.fillText("❤",f.x,f.y);
ctx.globalAlpha=1;
}
fireworks=fireworks.filter(f=>f.life>0);
}

function animate(){
ctx.fillStyle="rgba(0,0,0,0.2)";
ctx.fillRect(0,0,w,h);

particles.forEach(p=>{
if(slowMotion){
p.x+=(p.targetX-p.x)*0.01;
p.y+=(p.targetY-p.y)*0.01;
}
p.update();
p.draw();
});

updateFireworks();

requestAnimationFrame(animate);
}

createChaosHearts();
animate();

setTimeout(()=>{
formHeart();
},1500);

setInterval(()=>{
createFirework();
},800);

setTimeout(()=>{
slowMotion=true;
particles.forEach(p=>p.opacity=0.5);
document.getElementById("textContainer").style.opacity=1;
},4500);

</script>

</body>
</html>
